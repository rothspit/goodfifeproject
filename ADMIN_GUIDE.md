# 🏢 人妻の蜜 管理画面ガイド

## 📋 目次
1. [管理画面概要](#管理画面概要)
2. [アクセス方法](#アクセス方法)
3. [メニュー構成](#メニュー構成)
4. [各機能の詳細](#各機能の詳細)
5. [使い方](#使い方)

---

## 管理画面概要

人妻の蜜の管理画面は、店舗運営に必要な全ての機能を一元管理できるシステムです。

### 🔐 アクセス権限
- **管理者（admin）**: 全ての機能にアクセス可能
- **一般ユーザー**: 管理画面にアクセス不可

---

## アクセス方法

### 🌐 URL
```
https://3002-iwlhxuzhfaqbr3cqpityv-b32ec7bb.sandbox.novita.ai/admin/login
```

### 👤 テストアカウント
- **電話番号**: `090-0000-0000`
- **パスワード**: `admin123456`

---

## メニュー構成

### 📊 ダッシュボード (`/admin`)
店舗全体の統計情報とクイックアクションを表示

**表示内容:**
- ✅ キャスト数
- ✅ 会員数
- ✅ 予約数（今月）
- ✅ 承認待ち口コミ
- ✅ 未読チャット
- ✅ お知らせ数

**クイックアクション:**
- ➕ キャスト登録
- 📢 お知らせ投稿
- ⚡ 即姫登録
- ✅ 口コミ承認

---

### 👥 キャスト管理 (`/admin/casts`)

**主な機能:**
- キャスト一覧表示
- キャスト登録・編集・削除
- プロフィール情報管理
- 画像アップロード
- スリーサイズ・特徴設定
- サービス内容設定

**設定可能な情報:**
- 基本情報（名前、年齢、身長、体重、スリーサイズ）
- カップサイズ、血液型
- 趣味、特技、プロフィール
- サービス詳細（3P可、自宅訪問OK、お泊まりOK等）
- 画像（メイン画像 + 複数サブ画像）
- ステータス（新人、人気、おすすめ等）

**操作:**
- 🔍 検索・フィルタリング
- ➕ 新規登録: `/admin/casts/new`
- ✏️ 編集
- 🗑️ 削除

---

### 📅 出勤スケジュール管理 (`/admin/schedules`)

**主な機能:**
- キャスト出勤スケジュール一覧
- スケジュール登録・編集・削除
- 月間カレンダー表示
- 複数キャストの一括登録

**機能詳細:**
- 日付・時間帯の設定
- キャスト選択
- 出勤ステータス管理
- スケジュール確認・承認

**操作:**
- 📅 カレンダー表示
- ➕ スケジュール追加
- 🔄 一括登録機能
- ✏️ 編集・削除

---

### 📢 お知らせ管理 (`/admin/announcements`)

**主な機能:**
- お知らせ一覧表示
- 新規お知らせ投稿
- 編集・削除
- 公開/非公開設定

**投稿内容:**
- タイトル
- 本文
- カテゴリー（重要、イベント、休業日等）
- 公開日時設定
- 表示期間設定

**操作:**
- 📝 新規投稿
- ✏️ 編集
- 👁️ 公開/非公開切替
- 🗑️ 削除

---

### ⚡ 即姫管理 (`/admin/immediate`)

**主な機能:**
- 即呼び出し可能キャストの管理
- 即姫一覧表示
- 有効/無効切替
- メモ機能

**設定内容:**
- キャスト選択
- 有効/無効ステータス
- 備考・メモ
- 自動更新設定

**操作:**
- ➕ 即姫登録
- 🔄 ステータス変更
- 📝 メモ編集
- 🗑️ 削除

---

### 📝 ブログ管理 (`/admin/blogs`)

**主な機能:**
- キャスト日記（ブログ）管理
- 一覧表示
- 承認/非承認
- 編集・削除

**管理内容:**
- タイトル
- 本文
- 画像
- 投稿日時
- 公開ステータス

**操作:**
- 📝 新規投稿
- ✅ 承認/却下
- ✏️ 編集
- 🗑️ 削除

---

### ⭐ 口コミ承認 (`/admin/reviews`)

**主な機能:**
- 口コミ一覧表示
- 承認/却下処理
- 詳細確認
- 削除

**表示情報:**
- 投稿者名
- 対象キャスト
- 評価（星1〜5）
- 口コミ内容
- 投稿日時
- ステータス（承認待ち/承認済み/却下）

**操作:**
- ✅ 承認
- ❌ 却下
- 👁️ 詳細表示
- 🗑️ 削除

---

### 💬 チャット管理 (`/admin/chats`)

**主な機能:**
- 顧客とキャストのチャット管理
- チャットルーム一覧
- メッセージ履歴確認
- 既読/未読管理
- メッセージ削除

**表示情報:**
- ユーザー名
- キャスト名
- 最終メッセージ
- 未読数
- 最終更新日時

**操作:**
- 👁️ チャット履歴確認
- 📝 既読にする
- 🗑️ メッセージ削除
- 🔍 検索・フィルタリング

---

### 🎁 ポイント管理 (`/admin/points`)

**主な機能:**
- ユーザーポイント管理
- ポイント付与
- ポイント使用履歴
- 統計情報表示

**機能詳細:**
- **自動付与**: 利用金額の5%を自動付与
- **手動付与**: 管理者が任意にポイント付与
- **手動使用**: 管理者がポイント使用処理
- **1000ポイント単位**: ポイント使用は1000pt単位のみ

**表示情報:**
- ユーザー一覧
- 現在ポイント
- 累計獲得ポイント
- 累計使用ポイント
- ポイント履歴

**操作:**
- 💰 ポイント付与
- 🎫 ポイント使用
- 📊 履歴確認
- 🔍 ユーザー検索

---

### 🐦 X（Twitter）連携 (`/admin/twitter`)

**主な機能:**
- X（Twitter）アカウント連携
- 自動投稿設定
- 投稿スケジュール管理

**設定内容:**
- アカウント認証
- 自動投稿ON/OFF
- 投稿テンプレート
- 投稿タイミング設定

---

### ⚙️ システム設定 (`/admin/settings`)

**主な機能:**
- サイト基本設定
- 料金設定
- コース設定
- システムメンテナンス

**設定項目:**
- 店舗名
- 電話番号
- 営業時間
- 定休日
- 料金プラン
- コース設定
- メール設定

---

## 各機能の詳細

### 📊 ダッシュボードの使い方

1. **統計カードを確認**
   - 各カードをクリックすると詳細画面へ遷移
   - リアルタイムで数値が更新される

2. **クイックアクション**
   - よく使う機能に素早くアクセス
   - ワンクリックで各登録画面へ

3. **最新のアクティビティ**
   - 最新の予約を確認
   - 承認待ち口コミを確認

---

### 👥 キャスト管理の使い方

#### 新規キャスト登録手順

1. **基本情報の入力**
   ```
   - 名前（必須）
   - 年齢（必須）
   - 身長、体重
   - スリーサイズ（B/W/H）
   - カップサイズ
   - 血液型
   ```

2. **プロフィール入力**
   ```
   - 趣味
   - 特技
   - プロフィール文
   ```

3. **サービス設定**
   ```
   チェックボックスで選択:
   - 3P可
   - 自宅訪問OK
   - お泊まりOK
   - 服装リクエストOK
   - パイパン
   - タバコNG
   - 刺青NG
   etc...
   ```

4. **画像アップロード**
   ```
   - メイン画像（必須）
   - サブ画像（複数可）
   - ドラッグ&ドロップ対応
   ```

5. **登録完了**
   - 「登録」ボタンをクリック
   - 確認画面で内容を確認
   - 完了

---

### ⚡ 即姫管理の使い方

#### 即姫登録手順

1. **キャストを選択**
   - ドロップダウンから出勤中のキャストを選択

2. **情報入力**
   ```
   - 備考・メモ（任意）
   - 有効期限（任意）
   ```

3. **登録**
   - 「登録」ボタンをクリック
   - トップページの「即姫」セクションに表示される

4. **管理**
   - 有効/無効の切替
   - メモの編集
   - 削除

---

### 🎁 ポイント管理の使い方

#### ポイント付与手順

1. **ユーザーを検索**
   - 電話番号または名前で検索

2. **付与設定**
   ```
   - 予約IDを選択（利用実績からの付与の場合）
   - 実際の支払金額を入力
   - 自動で5%のポイントが計算される
   ```

3. **確認して付与**
   - 「ポイント付与」ボタンをクリック
   - 確認ダイアログで確認
   - 付与完了

#### ポイント使用手順

1. **ユーザーを選択**
   - ポイント一覧からユーザーを選択

2. **使用設定**
   ```
   - 使用ポイント数を入力（1000pt単位）
   - 現在の残高を確認
   - 予約IDを入力（任意）
   ```

3. **確認して使用**
   - 「ポイント使用」ボタンをクリック
   - 残高チェック
   - 使用完了

---

## 🔒 セキュリティ

### 認証システム
- JWT（JSON Web Token）による認証
- トークン有効期限: 30日
- 自動ログアウト機能

### 権限管理
- 管理者（admin）のみアクセス可能
- 一般ユーザーはアクセス不可
- 未認証時は自動的にログイン画面へリダイレクト

### データ保護
- HTTPS通信（本番環境）
- SQLインジェクション対策
- XSS対策
- CSRF対策

---

## 📱 モバイル対応

管理画面はレスポンシブデザインを採用しており、スマートフォンやタブレットからもアクセス可能です。

### モバイル表示の特徴
- ハンバーガーメニュー
- タッチ操作最適化
- 画面サイズに応じたレイアウト調整

---

## 🆘 トラブルシューティング

### ログインできない場合
1. 電話番号とパスワードを確認
2. ブラウザのキャッシュをクリア
3. 別のブラウザで試す

### データが表示されない場合
1. ページをリロード
2. ネットワーク接続を確認
3. ブラウザのコンソールでエラーを確認

### 画像がアップロードできない場合
1. ファイルサイズを確認（最大10MB）
2. ファイル形式を確認（JPG, PNG, GIF）
3. ネットワーク接続を確認

---

## 📞 サポート情報

### 開発者向け情報
- **API URL**: `https://5000-iwlhxuzhfaqbr3cqpityv-b32ec7bb.sandbox.novita.ai`
- **クライアント URL**: `https://3002-iwlhxuzhfaqbr3cqpityv-b32ec7bb.sandbox.novita.ai`
- **GitHub**: https://github.com/rothspit/goodfifeproject
- **Pull Request**: https://github.com/rothspit/goodfifeproject/pull/1

### 技術スタック
- **フロントエンド**: Next.js 15, React, TypeScript, TailwindCSS
- **バックエンド**: Node.js, Express, TypeScript
- **データベース**: SQLite
- **認証**: JWT
- **リアルタイム通信**: Socket.io

---

## 📝 更新履歴

### 最新アップデート
- ✅ キャスト用カレンダー式出勤申請ページ実装
- ✅ キャスト一覧ページをシティヘブン風にリニューアル
- ✅ ポイント管理システム実装
- ✅ チャット機能実装
- ✅ 即姫管理機能実装

---

## 🎯 今後の予定

### 実装予定の機能
- [ ] 予約管理システムの強化
- [ ] レポート・分析機能
- [ ] 自動バックアップ機能
- [ ] メール通知システム
- [ ] モバイルアプリ版

---

**最終更新日**: 2025年12月9日
